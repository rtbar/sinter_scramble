(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const l of e)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerPolicy&&(l.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?l.credentials="include":e.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(e){if(e.ep)return;e.ep=!0;const l=s(e);fetch(e.href,l)}})();const E=""+new URL("photo_1-VKNFUsTZ.jpg",import.meta.url).href,L=""+new URL("photo_2-B7Tn505n.jpg",import.meta.url).href,I=""+new URL("photo_3-K2pGZrIL.jpg",import.meta.url).href,v=""+new URL("photo_final-Bu6DBl97.jpg",import.meta.url).href,a=3,h=150,y=Object.assign({"./assets/photo_1.jpg":E,"./assets/photo_2.jpg":L,"./assets/photo_3.jpg":I,"./assets/photo_final.jpg":v});let d=Object.keys(y).filter(t=>t.match(/photo_\d+\.jpg$/)).sort((t,n)=>{var e,l;const s=parseInt(((e=t.match(/photo_(\d+)\.jpg$/))==null?void 0:e[1])||0),o=parseInt(((l=n.match(/photo_(\d+)\.jpg$/))==null?void 0:l[1])||0);return s-o}).map(t=>y[t]);if(d.length===0){const t=Object.assign({});Object.keys(t).length>0?d=Object.values(t):d=["https://picsum.photos/450/450"]}let g=0;const r=document.getElementById("board"),m=document.getElementById("congrats-modal"),_=document.getElementById("modal-title"),b=document.getElementById("modal-message"),u=document.getElementById("next-level-btn"),p=document.getElementById("level-indicator");let f=[];function x(){p.textContent=`Container ${g+1}/${d.length}`,r.innerHTML="",m.classList.add("hidden"),f=[];const t=d[g];for(let o=0;o<a*a;o++){const e=document.createElement("div");e.classList.add("drop-zone"),e.dataset.index=o,e.addEventListener("dragover",O),e.addEventListener("drop",$),r.appendChild(e)}for(let o=0;o<a*a;o++){const e=document.createElement("div");e.classList.add("tile"),e.draggable=!0,e.id=`tile-${o}`,e.dataset.correctIndex=o;const l=Math.floor(o/a),c=o%a;e.style.backgroundImage=`url(${t})`,e.style.backgroundPosition=`-${c*h}px -${l*h}px`,e.addEventListener("dragstart",C),e.addEventListener("dragend",j),f.push(e)}const n=[...f].sort(()=>Math.random()-.5),s=document.querySelectorAll(".drop-zone");n.forEach((o,e)=>{s[e].appendChild(o)})}let i=null;function C(t){i=this,this.classList.add("dragging"),t.dataTransfer.effectAllowed="move"}function j(t){this.classList.remove("dragging"),i=null}function O(t){t.preventDefault(),t.dataTransfer.dropEffect="move"}function $(t){t.preventDefault();const n=t.target.closest(".drop-zone");if(n&&i){const s=n.querySelector(".tile");s&&i.parentNode.appendChild(s),n.appendChild(i),w()}}function w(){const t=document.querySelectorAll(".drop-zone");let n=0;console.group("Check Win Status"),t.forEach(s=>{const o=s.querySelector(".tile");if(o){const e=parseInt(s.dataset.index),l=parseInt(o.dataset.correctIndex);e===l?n++:console.log(`Mismatch: Zone ${e} has Tile ${l}`)}else console.log(`Empty Zone: ${s.dataset.index}`)}),console.groupEnd(),console.log(`Correct tiles: ${n}/${a*a}`),n===a*a&&(console.log("Puzzle Solved! Triggering modal..."),setTimeout(()=>{M()},200))}document.addEventListener("keydown",t=>{t.altKey&&t.key==="d"&&(document.body.classList.toggle("debug-mode"),console.log("Debug mode toggled"))});function M(){if(console.log("showWinModal executing..."),!m){console.error("Modal element missing!");return}m.classList.remove("hidden"),g<d.length-1?(_.textContent="Access Granted",b.textContent=`Correct key hash entered. Container ${g+1}/${d.length} has been unlocked.`,u.textContent="Proceed",u.onclick=()=>{g++,x()}):(_.textContent="Decryption Successful",b.textContent="All containers unlocked. Data retrieved.",u.textContent="Open Decrypted Container",u.onclick=()=>{S()})}function S(){m.classList.add("hidden"),r.innerHTML="",r.style.display="flex",r.style.justifyContent="center",r.style.alignItems="center",r.style.background="none",r.style.border="none",r.style.boxShadow="none";const t=Object.assign({"./assets/photo_final.jpg":v});let n="https://picsum.photos/450/450";Object.keys(t).length>0&&(n=Object.values(t)[0]);const s=document.createElement("img");s.src=n,s.style.maxWidth="100%",s.style.maxHeight="100%",s.style.borderRadius="8px",s.style.boxShadow="0 0 20px rgba(255, 215, 0, 0.5)",r.appendChild(s),p.textContent="Go get me, Maarten!",p.style.color="#FFD700",p.style.textShadow="0 0 10px rgba(255, 215, 0, 0.5)"}x();
